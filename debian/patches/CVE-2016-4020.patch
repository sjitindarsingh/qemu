From: Prasad J Pandit <address@hidden>

When processing Task Priorty Register(TPR) access, it could leak
automatic stack variable 'imm32' in patch_instruction().
Initialise the variable to avoid it.

Reported by: Donghai Zdh <address@hidden>

Signed-off-by: Prasad J Pandit <address@hidden>
---
 hw/i386/kvmvapic.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

Index: qemu-2.5+dfsg/hw/i386/kvmvapic.c
===================================================================
--- qemu-2.5+dfsg.orig/hw/i386/kvmvapic.c	2016-05-10 12:58:17.274679585 -0400
+++ qemu-2.5+dfsg/hw/i386/kvmvapic.c	2016-05-10 12:58:17.270679549 -0400
@@ -393,7 +393,7 @@
     CPUX86State *env = &cpu->env;
     VAPICHandlers *handlers;
     uint8_t opcode[2];
-    uint32_t imm32;
+    uint32_t imm32 = 0;
     target_ulong current_pc = 0;
     target_ulong current_cs_base = 0;
     int current_flags = 0;
